Search.setIndex({"docnames": ["index", "start/install", "start/quick_start", "tutorials/structured_generation"], "filenames": ["index.rst", "start/install.rst", "start/quick_start.rst", "tutorials/structured_generation.rst"], "titles": ["\ud83d\udc4b Welcome to XGrammar", "Installation", "Quick Start", "Structured Generation"], "terms": {"github": [0, 1, 2], "i": [0, 1, 2, 3], "open": [0, 2], "sourc": 0, "solut": 0, "flexibl": 0, "portabl": 0, "fast": 0, "structur": [0, 2], "gener": [0, 2], "The": [0, 2, 3], "mission": 0, "thi": [0, 1, 2, 3], "project": 0, "bring": 0, "zero": 0, "overhead": [0, 3], "everywher": 0, "check": [0, 2], "out": [0, 1, 2, 3], "exampl": 0, "us": [0, 1, 2, 3], "mlc": [0, 1], "llm": [0, 3], "xgrammar": [1, 2], "python": [1, 2], "can": [1, 2, 3], "directli": 1, "develop": 1, "built": 1, "we": [1, 3], "provid": [1, 3], "nightli": 1, "pip": [1, 3], "wheel": 1, "via": [1, 3], "whenev": 1, "highli": 1, "recommend": [1, 3], "conda": [1, 3], "manag": 1, "an": [1, 3], "isol": [1, 3], "environ": [1, 3], "avoid": 1, "miss": 1, "incompat": 1, "version": 1, "conflict": 1, "pleas": 1, "make": [1, 3], "sure": [1, 3], "your": [1, 3], "ha": [1, 3], "activ": 1, "m": 1, "Then": [1, 3], "you": [1, 2, 3], "verifi": 1, "command": 1, "line": 1, "c": 1, "import": [1, 2, 3], "print": [1, 2], "modul": 1, "path": 1, "env": 1, "lib": 1, "python3": 1, "11": 1, "site": 1, "__init__": 1, "py": 1, "when": 1, "nvidia": 1, "gpu": [1, 3], "also": [1, 3], "extra": 1, "enabl": [1, 2, 3], "support": [1, 3], "appli": [1, 3], "bitmask": [1, 3], "nvrtc": 1, "cu12": 1, "step": [1, 3], "want": [1, 2], "modif": 1, "obtain": 1, "specif": [1, 3], "set": [1, 3], "up": [1, 3], "To": 1, "need": [1, 3], "ensur": [1, 3], "follow": [1, 2, 3], "ar": [1, 2, 3], "satisfi": 1, "cmake": 1, "3": [1, 2, 3], "18": 1, "git": 1, "start": [1, 3], "fresh": 1, "remov": 1, "n": 1, "venv": 1, "creat": 1, "forg": 1, "enter": 1, "ninja": 1, "pybind11": 1, "torch": [1, 2, 3], "configur": [1, 3], "A": 1, "standard": 1, "base": [1, 3], "workflow": 1, "download": 1, "clone": 1, "recurs": 1, "http": 1, "com": 1, "ai": 1, "cd": 1, "core": 1, "bind": 1, "mkdir": 1, "g": 1, "4": 1, "add": 1, "directori": 1, "echo": 1, "export": 1, "pwd": 1, "bashrc": 1, "valid": [1, 3], "mai": 1, "compil": [1, 2, 3], "successfulli": 1, "should": [1, 3], "see": [1, 2, 3], "easiest": 2, "wai": 2, "try": 2, "transform": [2, 3], "librari": [2, 3], "after": 2, "instal": 2, "run": [2, 3], "how": [2, 3], "json": 2, "case": [2, 3], "from": [2, 3], "automodelforcausallm": 2, "autotoken": [2, 3], "autoconfig": [2, 3], "xgr": [2, 3], "devic": [2, 3], "cuda": [2, 3], "Or": 2, "cpu": [2, 3], "etc": 2, "0": [2, 3], "instanti": [2, 3], "ani": 2, "hf": 2, "model": [2, 3], "model_nam": 2, "qwen": [2, 3], "qwen2": [2, 3], "5": [2, 3], "5b": [2, 3], "instruct": [2, 3], "microsoft": 2, "phi": 2, "mini": 2, "meta": 2, "llama": 2, "2": [2, 3], "1b": 2, "from_pretrain": [2, 3], "torch_dtyp": 2, "float32": 2, "device_map": 2, "token": [2, 3], "config": [2, 3], "1": [2, 3], "grammar": [2, 3], "note": [2, 3], "substitut": 2, "other": 2, "like": 2, "ebnf": 2, "schema": 2, "tokenizer_info": [2, 3], "tokenizerinfo": [2, 3], "from_huggingfac": [2, 3], "vocab_s": [2, 3], "grammar_compil": 2, "grammarcompil": [2, 3], "compiled_grammar": [2, 3], "compile_builtin_json_grammar": [2, 3], "prepar": 2, "input": 2, "messag": 2, "role": 2, "system": 2, "content": 2, "help": 2, "assist": 2, "user": 2, "introduc": 2, "yourself": 2, "briefli": 2, "text": 2, "apply_chat_templ": 2, "fals": 2, "add_generation_prompt": 2, "true": [2, 3], "model_input": 2, "return_tensor": 2, "pt": 2, "logits_processor": 2, "per": [2, 3], "each": [2, 3], "respons": [2, 3], "xgr_logits_processor": 2, "contrib": 2, "logitsprocessor": 2, "generated_id": 2, "max_new_token": 2, "512": 2, "len": [2, 3], "input_id": 2, "decod": 2, "skip_special_token": 2, "detail": [2, 3], "usag": 2, "guid": 2, "report": 2, "problem": 2, "ask": 2, "question": 2, "new": 2, "issu": 2, "our": [2, 3], "repo": 2, "effici": 3, "In": 3, "tutori": 3, "go": 3, "over": 3, "": 3, "output": 3, "adher": 3, "custom": 3, "string": 3, "first": 3, "lai": 3, "concept": 3, "final": 3, "demonstr": 3, "work": 3, "therefor": 3, "encourag": 3, "code": 3, "snippet": 3, "below": 3, "actual": 3, "runnabl": 3, "simul": 3, "avail": 3, "It": 3, "alwai": 3, "virtual": 3, "section": 3, "necessari": 3, "numpi": 3, "np": 3, "extract": 3, "info": 3, "get": 3, "model_id": 3, "larger": 3, "than": 3, "due": 3, "pad": 3, "full_vocab_s": 3, "With": 3, "choic": 3, "here": 3, "behavior": 3, "max_thread": 3, "multithread": 3, "enable_cach": 3, "default": 3, "cach": 3, "everi": 3, "thing": 3, "have": 3, "seen": 3, "now": 3, "rather": 3, "8": 3, "compiledgrammar": 3, "grammarmatch": 3, "main": 3, "construct": 3, "interact": 3, "maintain": 3, "state": 3, "alloc": 3, "mask": 3, "logit": 3, "matcher": 3, "token_bitmask": 3, "allocate_token_bitmask": 3, "singl": 3, "request": 3, "auto": 3, "regress": 3, "later": 3, "sampl": 3, "sim_sampled_respons": 3, "endoftext": 3, "sim_sampled_token_id": 3, "encod": 3, "loop": 3, "iter": 3, "sim_token_id": 3, "enumer": 3, "randn": 3, "tensor": 3, "shape": 3, "invalid": 3, "fill_next_token_bitmask": 3, "apply_token_bitmask_inplac": 3, "next": 3, "prob": 3, "softmax": 3, "dim": 3, "next_token_id": 3, "random": 3, "list": 3, "rang": 3, "p": 3, "accept": 3, "updat": 3, "its": 3, "so": 3, "enforc": 3, "assert": 3, "inde": 3, "accept_token": 3, "sinc": 3, "stop": 3, "termin": 3, "is_termin": 3, "reset": 3, "readi": 3, "flow": 3, "almost": 3, "ident": 3, "one": 3, "abov": 3, "except": 3, "being": 3, "two": 3, "method": 3, "pydant": 3, "function": 3, "pick": 3, "basemodel": 3, "class": 3, "person": 3, "name": 3, "str": 3, "ag": 3, "int": 3, "compile_json_schema": 3, "person_schema": 3, "titl": 3, "type": 3, "object": 3, "properti": 3, "integ": 3, "requir": 3, "dump": 3, "remain": 3, "befor": 3, "differ": 3, "current": 3, "gbnf": 3, "format": 3, "ggml": 3, "bnf": 3, "larg": 3, "ebnf_grammar_str": 3, "root": 3, "expr": 3, "term": 3, "num": 3, "9": 3, "compile_grammar": 3, "16": 3, "all": 3, "assum": 3, "same": 3, "exact": 3, "sai": 3, "simplic": 3, "thei": 3, "just": 3, "batch_siz": 3, "length": 3, "But": 3, "easi": 3, "engin": 3, "kei": 3, "own": 3, "b": 3, "loop_it": 3, "paralleliz": 3, "thread": 3, "estim": 3}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"welcom": 0, "xgrammar": [0, 3], "quick": [0, 2], "start": [0, 2], "instal": [1, 3], "tabl": 1, "content": 1, "option": 1, "1": 1, "prebuilt": 1, "packag": 1, "cuda": 1, "depend": 1, "2": 1, "build": 1, "from": 1, "sourc": 1, "exampl": 2, "what": 2, "do": 2, "next": 2, "structur": 3, "gener": 3, "json": 3, "schema": 3, "guid": 3, "ebnf": 3, "batch": 3, "infer": 3}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"\ud83d\udc4b Welcome to XGrammar": [[0, "welcome-to-xgrammar"]], "Quick Start": [[0, "quick-start"], [2, "quick-start"]], "Installation": [[1, "installation"]], "Table of Contents": [[1, "table-of-contents"]], "Option 1. Prebuilt Package": [[1, "option-1-prebuilt-package"]], "CUDA Dependency": [[1, "cuda-dependency"]], "Option 2. Build from Source": [[1, "option-2-build-from-source"]], "Example": [[2, "example"]], "What to Do Next": [[2, "what-to-do-next"]], "Structured Generation": [[3, "structured-generation"]], "Install XGrammar": [[3, "install-xgrammar"]], "JSON Generation": [[3, "json-generation"]], "JSON Schema Guided Generation": [[3, "json-schema-guided-generation"]], "EBNF Guided Generation": [[3, "ebnf-guided-generation"]], "Structured Generation for Batched Inference": [[3, "structured-generation-for-batched-inference"]]}, "indexentries": {}})